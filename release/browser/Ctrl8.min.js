function Ctrl8(a){this._={};this._.Props=a?a:{};this._.Ctrls={}}Ctrl8.ExtendsTo=function(a){function d(){}d.prototype=this.prototype;a.prototype=new d;a.prototype.constructor=a;a.baseConstructor=this;a.superClass=this.prototype;a.ExtendsTo=this.ExtendsTo};Ctrl8.prototype.Prop=function(a,d,b,e,f,g,h,k){Ctrl8.CreateProp(this,h||this._.Props,a,d,b,f,e,g,k)};Ctrl8.prototype.EProp=function(a,d,b,e,f,g,h){Ctrl8.CreateProp(this,h||this._.Props,a,d,b,f,e,g,1)};
Ctrl8.prototype.DrillProp=function(a,d,b){b?1:b=Ctrl8;Ctrl8.CreateProp(this,this._.Ctrls,a,new b(d),!0)};Ctrl8.prototype.CpxProp=function(a,d,b){Ctrl8.CalcProp(this,this._.Props,a,function(a,b){return new d(b[a]||(b[a]={}))},b?null:function(a,d,b){b[d]=a},!1)};Ctrl8.prototype.CalcProp=function(a,d,b,e,f,g){Ctrl8.CalcProp(this,f||this._.Props,a,d,b,e,g)};Ctrl8.prototype.ECalcProp=function(a,d,b,e,f){Ctrl8.CalcProp(this,f||this._.Props,a,d,b,e,1)};
Ctrl8.prototype.CalcOnceProp=function(a,d,b,e,f){Ctrl8.CalcProp(this,e||this._.Props,a,function(a,b){return b[a]||(b[a]=d.call(this,a,b))},null,b,f)};Ctrl8.prototype.ECalcOnceProp=function(a,d,b,e){Ctrl8.CalcProp(this,e||this._.Props,a,function(a,b){return b[a]||(b[a]=d.call(this,a,b))},null,b,1)};Ctrl8.DefCompareFx=function(a,d){return a===d};Ctrl8.DefChangeFx=function(a){};
Ctrl8.CreateProp=function(a,d,b,e,f,g,h,k,l){g?1:g=Ctrl8.DefCompareFx;h?1:h=Ctrl8.DefChangeFx;k={get:function(){return d[b]},configurable:k?!0:!1,eenumerable:l?!0:!1};f?1:k.set=function(a){g.call(this,d[b],a)?0:(d[b]=a,h.call(this,a))};Object.defineProperty(a,b,k);d.hasOwnProperty(b)||void 0===e?1:d[b]=e};Ctrl8.CalcProp=function(a,d,b,e,f,g,h){g={get:function(){return e.call(this,b,d)},configurable:g?!0:!1,enumerable:h?!0:!1};f?g.set=function(a){f.call(this,a,b,d)}:1;Object.defineProperty(a,b,g)};
function DrillCtrl(a){DrillCtrl.baseConstructor.call(this,a);for(var d in this._.Props)a=this._.Props[d],"object"==typeof a?this.DrillProp(d,DrillCtrl,a):this.Prop(d)}Ctrl8.ExtendsTo(DrillCtrl);function EventCtrl(a){EventCtrl.baseConstructor.call(this,a);this._.Events={}}Ctrl8.ExtendsTo(EventCtrl);EventCtrl.prototype.Emit=function(){var a=Array.prototype.slice.call(arguments),d=a[0];a.splice(0,1);(d=this._.Events[d])?d.forEach(function(b){b.apply(this,a)},this):1};
EventCtrl.prototype.On=function(a,d){var b=this._.Events[a]||(this._.Events[a]=[]);0>b.indexOf(d)?b.push(d):1};EventCtrl.prototype.Off=function(a,d){var b=this._.Events[a]||(this._.Events[a]=[]),e=b.indexOf(d);0<=e?b.splice(e,1):1};function WebCtrl(a,d){WebCtrl.baseConstructor.call(this,d);this.DOM="string"==typeof a?document.querySelector(a):a;var b=WebCtrl.GetInit(this.DOM),e=this._.Props,f;for(f in b)e.hasOwnProperty(f)?1:e[f]=b[f]}EventCtrl.ExtendsTo(WebCtrl);
WebCtrl.GetInit=function(a){return a=(a=a.getAttribute("init"))&&a.length?eval("("+a+")")||{}:{}};function WebCtrl8(a){WebCtrl8.baseConstructor.call(this,a);this.Prop("DOM");a=WebCtrl8.GetInit("string"==typeof this.DOM?document.querySelector(c):c);for(var d in a)P.hasOwnProperty(d)?1:P[d]=a[d]}WebCtrl8.GetInit=function(a){return a=(a=a&&a.getAttribute("init"))&&a.length?eval("("+a+")")||{}:{}};EventCtrl.ExtendsTo(WebCtrl8);var _8=function(a){return new DOMCtrl(a)};
function DOMCtrl(a){this.DOM="string"==typeof a?document.querySelector(a):a}
DOMCtrl.prototype.attr=function(a,d){var b=this,e;e=Array.isArray(a)?"array":typeof a;if("string"==e){if(void 0===d)return this.DOM.getAttribute(a);null==d?this.DOM.removeAttribute(a):this.DOM.setAttribute(a,d);return b}if("array"==e){if(void 0===d){var f={};a.forEach(function(a){f[a]=b.DOM.getAttribute(a)});return f}null==d?a.forEach(function(a){b.DOM.removeAttribute(a)}):a.forEach(function(a){b.DOM.setAttribute(a,d)});return b}if("object"==e)for(var g in a)e=a[g],null==e?b.DOM.removeAttribute(g):
b.DOM.setAttribute(g,e.call?e(g):e);return b};DOMCtrl.prototype.prop=function(a,d){var b=this.DOM,e;e=Array.isArray(a)?"array":typeof a;if("string"==e){if(void 0===d)return b[a];null==d?delete b[a]:b[a]=d;return this}if("array"==e){if(void 0===d){var f={};a.forEach(function(a){f[a]=b[a]});return f}null==d?a.forEach(function(a){delete b[a]}):a.forEach(function(a){b[a]=d});return this}if("object"==e)for(var g in a)e=a[g],null==e?delete b[g]:b[g]=e.call?e(g):e;return this};
DOMCtrl.prototype.css=function(a,d){var b=this.DOM.style,e;e=Array.isArray(a)?"array":typeof a;if("string"==e){if(void 0===d)return b.getPropertyValue(a);null==d?b.removeProperty(a):b.setProperty(a,d);return this}if("array"==e){if(void 0===d){var f={};a.forEach(function(a){f[a]=b.getPropertyValue(a)});return f}null==d?a.forEach(function(a){b.removeProperty(a)}):a.forEach(function(a){b.setProperty(a,d)});return this}if("object"==e)for(var g in a)e=a[g],null==e?b.removeProperty(g):b.setProperty(g,e.call?
e(g):e);return this};DOMCtrl.prototype.on=function(a,d){this.DOM.addEventListener(a,d);return this};DOMCtrl.prototype.sel=function(a){return new DOMCtrl(this.DOM.querySelector(a))};DOMCtrl.prototype.append=function(a){a=document.createElement(a);this.DOM.append(a);return new DOMCtrl(a)};DOMCtrl.prototype.remove=function(a){a=this.DOM.querySelectorAll(a);for(var d=0;d<a.length;d++)this.DOM.removeChild(a[d])};
DOMCtrl.prototype.text=function(a){if(void 0===a)return this.DOM.textContent;this.DOM.textContent=a;return this};DOMCtrl.prototype.html=function(a){if(void 0===a)return this.DOM.innerHTML;this.DOM.innerHTML=a;return this};DOMCtrl.prototype.rm=function(a){a=this.DOM.querySelectorAll(a);for(var d=0;d<a.length;d++)this.DOM.removeChild(a[d]);return this};
DOMCtrl.Utils={MouseXY:function(a,d){var b=a.getBoundingClientRect();return[d.clientX-b.left,d.clientY-b.top]},EnableSpan:function(a,d){var b;a.addEventListener("mousemove",function(e){e=window.event||e;if(1==e.buttons){var f=DOMCtrl.Utils.MouseXY(a,e);d.call(a,e,{dx:f[0]-b[0],dy:f[1]-b[1],m1:[b[0],b[1]],m2:[f[0],f[1]]});b=f}else b=DOMCtrl.Utils.MouseXY(a,e);e.stopPropagation();e.preventDefault()})},EnableDrag:function(a,d,b,e){var f;a.addEventListener("mousemove",function(g){g=window.event||g;if(1==
g.buttons){var h=DOMCtrl.Utils.MouseXY(a,g),k=e?e():[0,0];h[0]+=k[0];h[1]+=k[1];d.call(a,g,{dx:h[0]-f[0],dy:h[1]-f[1],m1:[f[0],f[1]],m2:[h[0],h[1]]});b?f=h:0}else{var k=e?e():[0,0];f=DOMCtrl.Utils.MouseXY(a,g);f[0]+=k[0];f[1]+=k[1]}g.stopPropagation();g.preventDefault()})}};
